import{r as e,h as i}from"./p-82c49291.js";const t=".movie-finder{display:flex;justify-content:center;margin:2rem}.movie-finder-input{width:100%;height:46px;line-height:46px;font-size:1.1em;color:rgba(0, 0, 0, 0.5);border:none;border-radius:30px;padding:10px 20px}.movie-finder-result-title{color:white;font-weight:bold;margin:2rem}ul{list-style:none;padding-inline-start:0.5rem;padding-inline-end:0.5rem;display:flex;flex-direction:row;overflow:scroll;background-color:white;margin:2rem;border-radius:1rem}.movie-finder-wrapper{padding:0.5rem;margin-bottom:8px}.movie-finder-info{display:flex;flex-direction:column;font-size:12px}.movie-finder_movie-title{height:2.25rem;overflow:hidden;text-overflow:ellipsis}.movie-finder-image,.movie-finder-no-image{width:110px;height:165px}.movie-finder-no-image{margin:0 0 0.5rem;outline:1px solid gray}";const n=class{constructor(i){e(this,i);this.fetchedMovies=[];this.movieUserInput=undefined;this.movieInputValid=false}onUserInput(e){this.movieUserInput=e.target.value;this.movieInputValid=this.movieUserInput.trim()!==""?true:false}onFindMovies(e){e.preventDefault();const i=this.movieNameInput.value;const t={method:"GET",headers:{accept:"application/json",Authorization:`${"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlNTVmZjk2MjM1NDY3MTQ2NWNmY2MxNmFhNjBmZTU2ZSIsInN1YiI6IjY0NzVkYWVmMWJmMjY2MDQ0MmE3OGE3ZiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.oU13ebZk5Ra6YfNf-TWZ62-eEG8Au-QadFSXQ44-dKo"}`}};fetch(`${"https://api.themoviedb.org/3/"}search/movie?query=${i}&include_adult=false&language=en-US&page=1`,t).then((e=>e.json())).then((e=>{this.fetchedMovies=e["results"].map((e=>({title:e["original_title"],image_url:e["poster_path"],release:e["release_date"]})));console.log(this.fetchedMovies)})).catch((e=>console.error(e)))}render(){const e=`https://image.tmdb.org/t/p/w220_and_h330_face`;let t=[i("p",{class:"movie-finder-result-title"},"Showing ",this.fetchedMovies.length," results for ",this.movieUserInput),i("ul",null,this.fetchedMovies.map((t=>i("li",{class:"movie-finder-wrapper"},t.image_url!==null?i("a",{class:"movie-finder_image-wrapper"},i("img",{src:e+t.image_url,class:"movie-finder-image"})):i("p",{class:"movie-finder-no-image"},"No poster found"),i("div",{class:"movie-finder-info"},i("p",{class:"movie-finder_movie-title"},i("strong",null,t.title)),t.release!==""?i("p",null,t.release):i("p",null,"No release info"))))))];return[i("form",{onSubmit:this.onFindMovies.bind(this)},i("div",{class:"movie-finder"},i("input",{type:"text",name:"movie-finder-input",id:"movie-finder-input",class:"movie-finder-input",ref:e=>this.movieNameInput=e,value:this.movieUserInput,onInput:this.onUserInput.bind(this)}),i("button",{type:"submit",disabled:!this.movieInputValid},"Find!"))),i("div",null,t)]}};n.style=t;const s=".movie-lists_header{text-align:left;color:white;margin:2rem}ul{list-style:none;padding-inline-start:0;padding-inline-end:0;margin:2rem}.movie-lists-wrapper{display:flex;background-color:white;border-radius:1rem;margin-bottom:2rem}.movie-lists-image,.movie-lists-info{padding:1rem}.movie-lists-image{width:110px;height:165px}";const o=class{constructor(i){e(this,i);this.movieListsResults=[];this.movieListType=undefined}connectedCallback(){const e={method:"GET",headers:{accept:"application/json",Authorization:`${"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlNTVmZjk2MjM1NDY3MTQ2NWNmY2MxNmFhNjBmZTU2ZSIsInN1YiI6IjY0NzVkYWVmMWJmMjY2MDQ0MmE3OGE3ZiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.oU13ebZk5Ra6YfNf-TWZ62-eEG8Au-QadFSXQ44-dKo"}`}};fetch(`${"https://api.themoviedb.org/3/"}movie/${this.movieListType}?language=en-US&page=1`,e).then((e=>e.json())).then((e=>{this.movieListsResults=e["results"].slice(0,5).map((e=>({original_title:e["original_title"],overview:e["overview"],release:e["release_date"],image_url:e["poster_path"],rating:e["vote_average"]})))})).catch((e=>console.error(e)))}toTitleCase(e){return e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}render(){const e=`https://image.tmdb.org/t/p/w220_and_h330_face`;const t=this.toTitleCase(this.movieListType.replace("_"," "));return[i("h3",{class:"movie-lists_header"},t+" Movies"),i("ul",null,this.movieListsResults.map((t=>i("li",{class:"movie-lists-wrapper"},i("a",{class:"movie-lists_image-wrapper"},i("img",{src:e+t.image_url,class:"movie-lists-image"})),i("div",{class:"movie-lists-info"},i("strong",null,t.original_title),i("p",null,i("strong",null,"Rating")," : ",t.rating),i("p",null,i("strong",null,"Released")," : ",t.release),i("p",null,t.overview))))))]}};o.style=s;export{n as wc_movie_finder,o as wc_movie_lists};
//# sourceMappingURL=p-fc54976a.entry.js.map